<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>When does the future begin?</title>
  <link rel="stylesheet" href="style.css"/>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>

  <!-- ── Left column: header + visualization ── -->
  <div id="left-col">

    <div id="header">
      <div id="header-text">
        <h1>When does the future begin?</h1>
        <p>Each arc connects the year a work was released to the year it is set in.<br>2,552 works of speculative fiction, from 1733 to 2024.</p>
      </div>

      <div id="controls">
        <div class="control-row">
          <span class="control-label">Medium</span>
          <div id="medium-filters"></div>
          <button id="btn-multiselect" title="Toggle multi-select mode">+</button>
        </div>
        <div class="control-row">
          <span class="control-label">Scale</span>
          <div id="scale-toggle">
            <button class="scale-btn active" id="btn-linear">Linear</button>
            <button class="scale-btn" id="btn-log">Log</button>
          </div>
          <div id="search-wrap">
            <svg class="search-icon" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="5.5" cy="5.5" r="4" stroke="currentColor" stroke-width="1.4"/>
              <line x1="8.7" y1="8.7" x2="13" y2="13" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
            </svg>
            <input type="text" id="search-input" placeholder="Search by title…" autocomplete="off" spellcheck="false"/>
            <button id="search-clear" aria-label="Clear search">×</button>
          </div>
        </div>
      </div>
    </div>

    <div id="viz-wrap">
      <svg id="viz"></svg>
    </div>

  </div>

  <!-- ── Sidebar ── -->
  <div id="info">

    <div id="info-handle"></div>

    <div id="info-empty">
      Hover over an arc<br>to see details.
      <span class="hint">Click to lock the selection.</span>
    </div>

    <div id="info-content">

      <div id="info-header">
        <div id="info-title"></div>
        <div id="info-creator"></div>
        <div id="info-badges"></div>
      </div>

      <div id="info-timeline" class="timeline-display"></div>

      <div id="info-extra"></div>

      <div id="info-series-section" style="display:none">
        <div class="section-title" id="info-series-label"></div>
        <div id="info-series-list"></div>
      </div>

      <div id="info-predictions-section" style="display:none">
        <div class="section-title">Predictions</div>
        <div class="predictions-text" id="info-predictions"></div>
      </div>

      <div id="info-links"></div>

    </div>
  </div>

  <!-- ── Mini tooltip (follows cursor) ── -->
  <div id="mini-tooltip"></div>

  <!-- ── Credits ── -->
  <div id="source-credit">
    Data: <a href="https://data.post45.org/posts/futuristic-fiction/" target="_blank">Futuristic Fiction Dataset</a>
  </div>
  <div id="authorship">
    by <strong>Ana Bertol</strong> · <a href="https://odd.studio" target="_blank">odd studio</a>
  </div>

  <script src="main.js"></script>
</body>
</html>
